---
title: Agregaci√≥n y Composici√≥n
authorName: '@doneberDev'
twitter: https://twitter.com/doneberdev
linkedin: https://www.linkedin.com/in/don-eber/
github: https://github.com/doneber
year: 7 noviembre 2020
icon: 'mdi-text-box-outline'
block: false
description: |
  Que significa la agregaci√≥n y composici√≥n en la Programaci√≥n Orientada a Objetos.
---

üßê Llega un momento en nuestras vidas en el que debemos aprender a usar la composici√≥n y la agregaci√≥n. Bueno no, pero si es importante adem√°s de interesante en la POO.

Estos conceptos describen una relaci√≥n de dependencia entre dos clases, lo que significa que la existencia de una afecta a la otra.

Para entrar en contexto, estamos hablando de objetos y clases de toda la vida, podr√≠an tener en sus atributos un `nombre` o una `edad`, pero ahora imaginemos que tengan de atributos otros objetos (as√≠ es, objetos dentro de objetos üò±).

## **Composici√≥n** üé®

La composici√≥n implica dos roles: un **todo** y una **parte**. La **parte** es importante para el **todo**. En la composici√≥n, si la clase **todo** desaparece, la clase **parte** tambi√©n debe desaparecer (consecuentemente). A este tipo de relaci√≥n tambi√©n se llama "relaci√≥n fuerte". üí™

En un diagrama de clases UML, se representa esta relaci√≥n con una l√≠nea con un rombo pintado apuntando a la clase *todo*.

![https://raw.githubusercontent.com/doneber/POO/master/Resources/relaciones/composicion.png](https://raw.githubusercontent.com/doneber/POO/master/Resources/relaciones/composicion.png)

Esta relaci√≥n se puede leer como¬†‚Äù**B se compone de A‚Äù**¬†o ‚Äù**A es parte de B‚Äù**

Okay, ya hemos hablado suficiente de teor√≠a. Veamos un ejemplo:

### **Ejemplo:** Composici√≥n de un Smartphone üì±

Imaginemos que una clase Smartphone est√° compuesto de diferentes componentes, como su bater√≠a (que es una bater√≠a patentada). Podemos decir que un celular est√° compuesto de una bater√≠a y que si el celular desaparece, tambi√©n desaparecer√° la bater√≠a. De la misma forma, podemos ver que una bater√≠a no puede existir sin su celular. Entonces, aqu√≠ hay una relaci√≥n de composici√≥n.

Si creamos clases para estos objetos, su relaci√≥n se ver√° como en el siguiente diagrama de clases UML:

![https://raw.githubusercontent.com/doneber/POO/master/Resources/POO/composicionExample.png](https://raw.githubusercontent.com/doneber/POO/master/Resources/POO/composicionExample.png)

Ojo que la bater√≠a se crea al mismo tiempo que el smartphone, a trav√©s del constructor.

## **Agregaci√≥n** ü§ù

En la agregaci√≥n encontramos dos roles: el **contenedor** y el **elemento**. Con el tiempo, los **elementos** se agregan al **contenedor**. Si el contenedor desaparece, los elementos siguen existiendo. Esta relaci√≥n tambi√©n se la conoce como una relaci√≥n d√©bil, aqu√≠ uno no depende por completo del otro.

En un diagrama de clases, para mostrar que una clase es parte de otra, usamos una l√≠nea con un rombo vac√≠o que apunta a la clase que la contiene.

![https://raw.githubusercontent.com/doneber/POO/master/Resources/relaciones/agregacion.png](https://raw.githubusercontent.com/doneber/POO/master/Resources/relaciones/agregacion.png)

Esta relaci√≥n se puede leer como¬†‚Äù**B** tiene **A‚Äù**¬†o¬†‚Äù**A** esta en **B‚Äù**

Veamos un ejemplo.

### **Ejemplo: Agregaci√≥n en un Smartphone** üì±

Piensa en un celular. Al principio, no tiene ninguna tarjeta SIM (chip). Pero despu√©s puedes agregar una o incluso dos en los celulares nuevos.

![https://raw.githubusercontent.com/doneber/POO/master/Resources/POO/agregacionExample.png](https://raw.githubusercontent.com/doneber/POO/master/Resources/POO/agregacionExample.png)

En agregaci√≥n, necesitaremos un m√©todo para agregar un nuevo objeto En nuestro ejemplo, el m√©todo se llama `agregarChip`, ya que agregamos chips a nuestro celular.

# **Agregaci√≥n vs Composici√≥n** üí°

Aunque estas dos relaciones se parecen, hay diferencias importantes entre ellas:

| Agregaci√≥n | Composici√≥n |
| --- | --- |
| Una clase no forma parte de la otra | Una clase s√≠ forma parte de la otra |
| Se inicializa vac√≠a en su constructor | Inicializa sus datos en el constructor |
| Tiene un m√©todo para agregar m√°s elementos | No se pueden agregar partes despu√©s de su creaci√≥n |
| No se destruye cuando lo hace la clase contenedora | Se destruye cuando lo hace la clase principal |
| Puede vivir independientemente | Vive dentro de la otra clase |
